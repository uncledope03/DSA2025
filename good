 

// Add component
resource function post [string assetTag]/components(string key, string value) returns http:Response|error {
    http:Response response = createCorsResponse();
    
    if assetDB.hasKey(assetTag)) {
        assetDB[assetTag].components[key] = value;
        response.setTextPayload("Component added!");
        return response;
    }
    response.statusCode = 404;
    response.setTextPayload("Asset not found!");
    return response;
}

// Add schedule
resource function post [string assetTag]/schedules(string key, string dueDate) returns http:Response|error {
    http:Response response = createCorsResponse();
    
    if assetDB.hasKey(assetTag)) {
        assetDB[assetTag].schedules[key] = dueDate;
        response.setTextPayload("Schedule added!");
        return response;
    }
    response.statusCode = 404;
    response.setTextPayload("Asset not found!");
    return response;
}
